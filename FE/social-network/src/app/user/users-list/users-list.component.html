<app-users-popup [userFollowers]="usersFollowers" />
<app-global-loader />
<div class="row">
    <div *ngFor="let user of users" class="card card-body col-sm-2 col-md-4 col-lg-3 m-4">
        <div class="d-flex flex-column align-items-center text-center">
            <img [src]="setProfileImage(user)" class="rounded-circle" width="100" height="100">
            <div class="mt-3">
                <h4 class="user-link" (click)="navigateTo('users', user)">{{user.userUserName}}</h4>
                <p class="text-secondary mb-1">Email: {{user.userEmail}}</p>
                <p class="text-muted font-size-sm user-posts">Posts: {{user.userPostsCount}}</p>
                <div class="row">
                    <p class="col-6 text-muted font-size-sm user-followers" (click)="loadUserFollowers(user.userId)"
                        data-toggle="modal" data-target="#users-modal">Followers:
                        {{user.userFollowersCount}}</p>
                    <p class="col-6 text-muted font-size-sm user-followers" (click)="loadUserFollowings(user.userId)"
                        data-toggle="modal" data-target="#users-modal">
                        Followings: {{user.userFollowingsCount}}</p>
                </div>
                <!-- @if (!item.IsFollowed)
                {
                    <form asp-area="" asp-controller="Users" asp-action="Follow" asp-route-userId="@item.UserId" method="post">
                        <button class="btn btn-outline-primary">Follow</button>
                    </form>
                }
                else
                {
                    <form asp-area="" asp-controller="Users" asp-action="Follow" asp-route-userId="@item.UserId" method="post">
                        <button class="btn btn-primary">Followed</button>
                    </form>
                } -->
            </div>
        </div>
    </div>
    <div class="card card-body col-md-4 col-lg-3 m-4" style="border: none;">
    </div>
    <div class="card card-body col-md-4 col-lg-3 m-4" style="border: none;">
    </div>
</div>